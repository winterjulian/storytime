<div class="journey-width bg-white shadow p-2">
  @let journey = userJourney();
  @if (!journey) {
    <div>
      <input
        type="text"
        class="w-full p-2 border-0 border-b-2 bg-transparent outline-none
             border-gray-400 focus:border-blue-500 dark:border-gray-400 dark:text-white
             dark:placeholder-gray-500"
        placeholder="New journey ..."
        [ngClass]="{
        'border-b-gray-400 dark:border-b-gray-600':
          !form.controls['title'].invalid || !form.controls['title'].touched,
        'border-b-red-500 focus:border-b-red-500':
          form.controls['title'].invalid && form.controls['title'].touched
      }"
        [formControl]="form.controls['title']"
      />
    </div>
  } @else {
    <div
      class="p-2 border-0 border-b-2 border-gray-400
           dark:border-gray-600 dark:text-white"
    >
      {{ journey.title }}
    </div>
  }
  <div>
    @if(journey) {
      @for(userStep of journey.userSteps; track userStep.id) {
        <app-user-step-element [userStep]="userStep" [userJourney]="journey"></app-user-step-element>
      }
      <div class="flex justify-center items-center m-2 mt-4">
        <div style="height: 30px; width: 30px; border-radius: 50%" class="flex justify-center items-center bg-gray-300">
          <i class="material-icons">add</i>
        </div>
      </div>
    }
  </div>
  @if(!journey) {
    <div>
      <div class="flex justify-between p-4">
        <div>
          <button (click)="userJourneyService.stopCreatingUserJourney()" class="standard-button cancel-button">
            Cancel
          </button>
        </div>
        <div>
          <button (click)="applyEdit()" class="standard-button">
            Apply
          </button>
        </div>
      </div>
    </div>
  }
</div>
